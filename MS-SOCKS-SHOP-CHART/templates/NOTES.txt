ðŸŽ‰ Sock-Shop with LitmusChaos has been deployed!

{{- if .Values.sockShop.enabled }}

=== SOCK-SHOP APPLICATION ===

The Sock-Shop microservices application has been deployed to namespace: {{ include "sock-shop-litmus.sockShopNamespace" . }}

To access the Sock-Shop frontend:

  kubectl port-forward svc/front-end -n {{ include "sock-shop-litmus.sockShopNamespace" . }} 8080:80

  Then open: http://localhost:8080

To verify all pods are running:

  kubectl get pods -n {{ include "sock-shop-litmus.sockShopNamespace" . }}

{{- end }}

{{- if .Values.monitoring.enabled }}

=== MONITORING STACK ===

Prometheus and Grafana have been deployed to namespace: {{ include "sock-shop-litmus.monitoringNamespace" . }}

To access Grafana:

  kubectl port-forward svc/grafana -n {{ include "sock-shop-litmus.monitoringNamespace" . }} 3000:3000

  Then open: http://localhost:3000
  Default credentials: admin/admin

To access Prometheus:

  kubectl port-forward svc/prometheus -n {{ include "sock-shop-litmus.monitoringNamespace" . }} 9090:9090

  Then open: http://localhost:9090

{{- end }}

{{- if .Values.litmus.enabled }}

=== LITMUS CHAOS ===

Chaos Exporter has been deployed to namespace: {{ include "sock-shop-litmus.litmusNamespace" . }}

Make sure you have LitmusChaos operator and experiments installed:

  # Install Litmus Operator (if not installed)
  kubectl apply -f https://raw.githubusercontent.com/litmuschaos/litmus/master/mkdocs/docs/litmus-operator-v3.0.0.yaml

  # Install Litmus Admin RBAC
  kubectl apply -f https://litmuschaos.github.io/litmus/litmus-admin-rbac.yaml

  # Install Chaos Experiments
  kubectl apply -f https://hub.litmuschaos.io/api/chaos/3.0.0?file=faults/kubernetes/pod/experiments.yaml -n litmus

{{- end }}

=== NEXT STEPS FOR LITMUS CHAOS UI ===

1. Open LitmusChaos UI in your browser

2. Create a new Environment:
   - Name: sock-shop-env
   - Type: Non-Production (for testing)

3. Enable Infrastructure:
   - Follow the instructions to connect your Minikube cluster

4. Create a Chaos Workflow:
   - Target Namespace: {{ include "sock-shop-litmus.sockShopNamespace" . }}
   - Select Faults: pod-delete, container-kill, etc.
   - Target Applications: catalogue, orders, carts, etc.

5. Run the experiment and monitor in Grafana!

=== USEFUL COMMANDS ===

Check all resources:
  kubectl get all -n {{ include "sock-shop-litmus.sockShopNamespace" . }}
  kubectl get all -n {{ include "sock-shop-litmus.monitoringNamespace" . }}
  kubectl get all -n {{ include "sock-shop-litmus.litmusNamespace" . }}

View chaos results:
  kubectl get chaosresult -n {{ include "sock-shop-litmus.litmusNamespace" . }}

View chaos engine status:
  kubectl describe chaosengine -n {{ include "sock-shop-litmus.litmusNamespace" . }}
